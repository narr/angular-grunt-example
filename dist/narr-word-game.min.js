/*!
 * grunt-angular-example v0.0.1
 * https://github.com/narr/grunt-angular-example
 * Copyright (c) 2016 Narr
 * License: MIT
 */

!function(){"use strict";angular.module("narrWordGame",["narrWordGame.core","narrWordGame.components"]),angular.module("narrWordGame.core",["ngAnimate"])}(),function(){"use strict";angular.module("narrWordGame.components",["narrWordGame.core"])}(),function(){"use strict";function a(){var a={controller:b,controllerAs:"vm",restrict:"E",scope:{},templateUrl:"components/word-game-view.directive.html"};return a}function b(){function a(a){e.wordTimer.startTimer()}function b(a){e.wordPanel.updatePanel(a)}function c(){e.isTimeEnd=!0,e.wordInput.disable()}function d(a){e.isTimeEnd=!1,e.wordPanel.resetPanel(),e.wordTimer.resetTimer(),e.wordInput.enable()}var e=this;e.start=a,e.checkVal=b,e.timeEnd=c,e.reset=d,e.isTimeEnd=!1,e.wordPanel={},e.wordInput={},e.wordTimer={}}angular.module("narrWordGame.components").directive("narrWordGameView",a)}(),function(){"use strict";function a(a){function c(b,c,d,e){function f(){e.disabled=!1,e.val="",a(function(){c.find("input")[0].focus()})}b.enable=f}var d={controller:b,controllerAs:"vm",link:c,restrict:"E",scope:{onKeypress:"=",onCheckValue:"=",enable:"=",disable:"="},template:'<input type="text" ng-model="vm.val" ng-keypress="vm.onKeypress($event)" ng-disabled="vm.disabled"><span class="info-txt">{{vm.infoTxt}}</span>'};return d}function b(a){function b(b){a.onKeypress(b),32===b.keyCode&&(b.preventDefault(),a.onCheckValue(d.val),d.val="")}function c(){d.disabled=!0}var d=this;d.val="",d.onKeypress=b,d.disabled=!1,d.infoTxt="use space to move to the next word",a.disable=c}angular.module("narrWordGame.components").directive("narrWordInput",a),a.$inject=["$timeout"],b.$inject=["$scope"]}(),function(){"use strict";function a(){function a(a,b,c,d){function e(a){var c=b[0].querySelectorAll(".word"),e=d.info.activeIndex,f=c[e].textContent.trim()===a,g=c[e].offsetTop,h=c[e+1].offsetTop;g<h?d.setActiveIndex(f):d.increaseIndex(f)}a.updatePanel=e}var c={controller:b,controllerAs:"vm",link:a,restrict:"E",scope:{info:"=",updatePanel:"=",resetPanel:"="},templateUrl:"components/word-panel.directive.html"};return c}function b(a,b){function c(a){0===g?h++:i++,b.update(f.info.activeIndex+1,a)}function d(a){var c;0===g?(g++,i=1,c=f.info.activeIndex+1,b.update(c,a)):(c=i,b.update(c,a),b.setWords(h),h=i,i=1)}function e(){g=0,h=1,i=0,b.resetWords()}var f=this,g=0,h=1,i=0;f.words=b.getWords(),f.info=a.info=b.getInfo(),f.increaseIndex=c,f.setActiveIndex=d,a.resetPanel=e}angular.module("narrWordGame.components").directive("narrWordPanel",a),b.$inject=["$scope","wordService"]}(),function(){"use strict";function a(){var a={controller:b,controllerAs:"vm",restrict:"E",scope:{timerStarted:"=",startTimer:"=",onTimeEnd:"=",resetTimer:"="},template:"{{vm.time}}"};return a}function b(a,b){function c(){a.timerStarted||(a.timerStarted=!0,f=60,e(),g=b(e,1e3))}function d(){a.timerStarted&&(a.timerStarted=!1,b.cancel(g),h.time="1:00")}function e(){f--,f<10?h.time="0:0"+f:h.time="0:"+f,f<1&&(b.cancel(g),a.onTimeEnd())}var f,g,h=this;h.time="1:00",a.timerStarted=!1,a.startTimer=c,a.resetTimer=d}angular.module("narrWordGame.components").directive("narrWordTimer",a),b.$inject=["$scope","$interval"]}(),function(){"use strict";function a(){function a(){return g}function b(a){var b,c,d,e=f.length,g=40;for(c=a?a:g,b=0;b<c;b++)d=Math.floor(Math.random()*e),h.push({text:f[d],correct:null});return h}function c(a,b){h[g.activeIndex].correct=b,g.activeIndex=a,b&&g.correctCount++,g.trialCount++}function d(a){h.splice(0,a),b(a)}function e(){h.length=0,b(),g.activeIndex=0,g.trialCount=0,g.correctCount=0}var f=["have","girl","which","was","first","has","know","find","night","next","set","run","large","want","go","name","look","which","seem","want","life","water","stop","it"],g={activeIndex:0,trialCount:0,correctCount:0},h=[],i={getInfo:a,getWords:b,update:c,setWords:d,resetWords:e};return i}angular.module("narrWordGame.core").factory("wordService",a)}(),angular.module("narrWordGame.components").run(["$templateCache",function(a){"use strict";a.put("components/word-game-view.directive.html",'<narr-word-panel info=vm.wordPanel.info update-panel=vm.wordPanel.updatePanel reset-panel=vm.wordPanel.resetPanel ng-class="{inactive: vm.isTimeEnd}"></narr-word-panel><div class=game-result ng-show=vm.isTimeEnd><span class=result-total>total words: {{vm.wordPanel.info.trialCount}} </span><span class=result-correct>correct words: {{vm.wordPanel.info.correctCount}}</span> <span class=result-incorrect>incorrect words: {{vm.wordPanel.info.trialCount - vm.wordPanel.info.correctCount}}</span></div><narr-word-input on-keypress=vm.start on-check-value=vm.checkVal enable=vm.wordInput.enable disable=vm.wordInput.disable></narr-word-input><narr-word-timer timer-started=vm.wordTimer.started start-timer=vm.wordTimer.startTimer on-time-end=vm.timeEnd reset-timer=vm.wordTimer.resetTimer></narr-word-timer><button type=button ng-click=vm.reset($event)>reset</button>'),a.put("components/word-panel.directive.html",'<span ng-repeat="word in vm.words track by $index" ng-class="{\n  word: true,\n  active: vm.info.activeIndex === $index,\n  correct: word.correct === true,\n  incorrect: word.correct === false\n}">{{word.text}}</span>')}]);
//# sourceMappingURL=narr-word-game.min.js.map